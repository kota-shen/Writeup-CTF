<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Rapport</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Rapport</h1><br/><p><h1>Write up Basic Pentesting</h1><strong></strong></p><p><strong></strong><ol><li>1. <h2>1. Introduction</h2></li></ol></p><p></p><p>CTF level : easy</p><p><span style="text-decoration:underline;">Skills learned :</span></p><p><ul><li>Service enumeration</li><li>brute forcing</li><li>hash cracking</li><li>Linux enumeration</li></ul></p><p></p><p>Adresse ip cible 10.10.206.109</p><p><ol><li>2. <h2>2. Reconnaissance active</h2></li></ol></p><p></p><p>Nous effectuons divers scans nmap pour découvrir les services accessibles sur la cible</p><p></p><p><h2>Scan SYN</h2><h2></h2></p><p><h2></h2><h2></h2></p><p><h2></h2>sudo nmap -sS -Tx -p- 10.10.206.109 &gt; Scan_syn.txt</p><p></p><p>Starting Nmap 7.94SVN ( <a href="https://nmap.org">https://nmap.org</a> ) at 2024-09-13 23:02 CEST</p><p>Nmap scan report for 10.10.206.109</p><p>Host is up (0.036s latency).</p><p>Not shown: 65529 closed tcp ports (reset)</p><p>PORT     STATE SERVICE</p><p><strong>22/tcp   open  ssh</strong><strong></strong></p><p><strong>80/tcp   open  http</strong><strong></strong></p><p><strong>139/tcp  open  netbios-ssn</strong><strong></strong></p><p><strong>445/tcp  open  microsoft-ds</strong></p><p>8009/tcp open  ajp13</p><p>8080/tcp open  http-proxy</p><p></p><p>Nmap done: 1 IP address (1 host up) scanned in 14.97 seconds</p><p></p><p>le scan syn nous donne les informations de bases sur les services ouverts de la cible. ici ssh http smb et https</p><p></p><p><h2>Scan Version</h2></p><p></p><p>sudo nmap -sV -T4 -p 22,80,139,445 10.10.206.109 &gt; scan_version.txt </p><p></p><p>Starting Nmap 7.94SVN ( <a href="https://nmap.org">https://nmap.org</a> ) at 2024-09-13 23:05 CEST</p><p>Nmap scan report for 10.10.206.109</p><p>Host is up (0.029s latency).</p><p></p><p>PORT    STATE SERVICE     VERSION</p><p><strong>22/tcp  open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)</strong><strong></strong></p><p><strong>80/tcp  open  http        Apache httpd 2.4.18 ((Ubuntu))</strong><strong></strong></p><p><strong>139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)</strong><strong></strong></p><p><strong>445/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)</strong><strong></strong></p><p><strong>Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel</strong></p><p></p><p>Service detection performed. Please report any incorrect results at <a href="https://nmap.org/submit/">https://nmap.org/submit/</a> .</p><p>Nmap done: 1 IP address (1 host up) scanned in 11.73 seconds</p><p></p><p>Nous récupérons les versions des différents services dans l&#39;optique de trouver une vulnérabilité plus tard</p><p></p><p><h2>Scan Complet</h2></p><p></p><p>sudo nmap -A -T4 -p 22,80,139,445 10.10.206.109 &gt; scan_full.txt</p><p></p><p>Starting Nmap 7.94SVN ( <a href="https://nmap.org">https://nmap.org</a> ) at 2024-09-13 23:08 CEST</p><p>Nmap scan report for 10.10.206.109</p><p>Host is up (0.038s latency).</p><p></p><p>PORT    STATE SERVICE     VERSION</p><p><strong>22/tcp  open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)</strong></p><p>| ssh-hostkey: </p><p>|   2048 db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 (RSA)</p><p>|   256 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce (ECDSA)</p><p>|_  256 a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 (ED25519)</p><p><strong>80/tcp  open  http        Apache httpd 2.4.18 ((Ubuntu))</strong></p><p>|_http-title: Site doesn&#39;t have a title (text/html).</p><p>|_http-server-header: Apache/2.4.18 (Ubuntu)</p><p><strong>139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)</strong><strong></strong></p><p><strong>445/tcp open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)</strong></p><p>Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port</p><p>Device type: general purpose</p><p>Running: Linux 5.X</p><p>OS CPE: cpe:/o:linux:linux_kernel:5.4</p><p>OS details: Linux 5.4</p><p>Network Distance: 2 hops</p><p>Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel</p><p></p><p>Host script results:</p><p>| smb2-security-mode: </p><p>|   3:1:1: </p><p>|_    Message signing enabled but not required</p><p>| smb-os-discovery: </p><p>|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)</p><p>|   Computer name: basic2</p><p>|   NetBIOS computer name: BASIC2\x00</p><p>|   Domain name: \x00</p><p>|   FQDN: basic2</p><p>|_  System time: 2024-09-13T17:09:03-04:00</p><p>| smb2-time: </p><p>|   date: 2024-09-13T21:09:03</p><p>|_  start_date: N/A</p><p><strong>| smb-security-mode: </strong><strong></strong></p><p><strong>|   account_used: guest</strong><strong></strong></p><p><strong>|   authentication_level: user</strong></p><p>|   challenge_response: supported</p><p>|_  message_signing: disabled (dangerous, but default)</p><p>|_nbstat: NetBIOS name: BASIC2, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: &lt;unknown&gt; (unknown)</p><p>|_clock-skew: mean: 1h19m58s, deviation: 2h18m33s, median: -1s</p><p></p><p>TRACEROUTE (using port 139/tcp)</p><p>HOP RTT      ADDRESS</p><p>1   26.80 ms 10.9.0.1</p><p>2   27.24 ms 10.10.206.109</p><p></p><p>OS and Service detection performed. Please report any incorrect results at <a href="https://nmap.org/submit/">https://nmap.org/submit/</a> .</p><p>Nmap done: 1 IP address (1 host up) scanned in 14.75 seconds</p><p></p><p>Avec le scan complet nous voyons que le niveau de sécurité des partages utilise le compte guest</p><p></p><p><h2>Scan Vulnérabilité</h2></p><p></p><p>sudo nmap --script *smb* -p 445 10.10.206.109 &gt; scan_vuln.txt</p><p></p><p>Starting Nmap 7.94SVN ( <a href="https://nmap.org">https://nmap.org</a> ) at 2024-09-13 23:13 CEST</p><p>Nmap scan report for 10.10.206.109</p><p>Host is up (0.027s latency).</p><p></p><p>PORT    STATE SERVICE</p><p>445/tcp open  microsoft-ds</p><p></p><p>Host script results:</p><p><strong>| smb-brute: </strong><strong></strong></p><p><strong>|_  No accounts found</strong></p><p>| smb2-security-mode: </p><p>|   3:1:1: </p><p>|_    Message signing enabled but not required</p><p>|_smb-vuln-ms10-054: false</p><p>|_smb-vuln-ms10-061: false</p><p>|_smb-system-info: ERROR: Script execution failed (use -d to debug)</p><p>| smb2-capabilities: </p><p>|   2:0:2: </p><p>|     Distributed File System</p><p>|   2:1:0: </p><p>|     Distributed File System</p><p>|     Multi-credit operations</p><p>|   3:0:0: </p><p>|     Distributed File System</p><p>|     Multi-credit operations</p><p>|   3:0:2: </p><p>|     Distributed File System</p><p>|     Multi-credit operations</p><p>|   3:1:1: </p><p>|     Distributed File System</p><p>|_    Multi-credit operations</p><p><strong>| smb-enum-shares: </strong><strong></strong></p><p><strong>|   account_used: guest</strong><strong></strong></p><p><strong>|   \\10.10.206.109\Anonymous: </strong></p><p>|     Type: STYPE_DISKTREE</p><p>|     Comment: </p><p>|     Users: 0</p><p>|     Max Users: &lt;unlimited&gt;</p><p><strong>|     Path: C:\samba\anonymous</strong></p><p>|     Anonymous access: READ/WRITE</p><p>|     Current user access: READ/WRITE</p><p>|   \\10.10.206.109\IPC$: </p><p>|     Type: STYPE_IPC_HIDDEN</p><p>|     Comment: IPC Service (Samba Server 4.3.11-Ubuntu)</p><p>|     Users: 1</p><p>|     Max Users: &lt;unlimited&gt;</p><p>|     Path: C:\tmp</p><p>|     Anonymous access: READ/WRITE</p><p>|_    Current user access: READ/WRITE</p><p>| smb-mbenum: </p><p>|   DFS Root</p><p>|     BASIC2  0.0  Samba Server 4.3.11-Ubuntu</p><p>|   Master Browser</p><p>|     BASIC2  0.0  Samba Server 4.3.11-Ubuntu</p><p>|   Print server</p><p>|     BASIC2  0.0  Samba Server 4.3.11-Ubuntu</p><p>|   Server</p><p>|     BASIC2  0.0  Samba Server 4.3.11-Ubuntu</p><p>|   Server service</p><p>|     BASIC2  0.0  Samba Server 4.3.11-Ubuntu</p><p>|   Unix server</p><p>|     BASIC2  0.0  Samba Server 4.3.11-Ubuntu</p><p>|   Windows NT/2000/XP/2003 server</p><p>|     BASIC2  0.0  Samba Server 4.3.11-Ubuntu</p><p>|   Workstation</p><p>|_    BASIC2  0.0  Samba Server 4.3.11-Ubuntu</p><p>| smb-protocols: </p><p>|   dialects: </p><p>|     NT LM 0.12 (SMBv1) [dangerous, but default]</p><p>|     2:0:2</p><p>|     2:1:0</p><p>|     3:0:0</p><p>|     3:0:2</p><p>|_    3:1:1</p><p>| smb-os-discovery: </p><p><strong>|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)</strong></p><p>|   Computer name: basic2</p><p>|   NetBIOS computer name: BASIC2\x00</p><p>|   Domain name: \x00</p><p>|   FQDN: basic2</p><p>|_  System time: 2024-09-13T17:18:34-04:00</p><p>|_smb-print-text: false</p><p>| smb-vuln-regsvc-dos: </p><p><strong>|   VULNERABLE:</strong><strong></strong></p><p><strong>|   Service regsvc in Microsoft Windows systems vulnerable to denial of service</strong><strong></strong></p><p><strong>|     State: VULNERABLE</strong></p><p>|       The service regsvc in Microsoft Windows 2000 systems is vulnerable to denial of service caused by a null deference</p><p>|       pointer. This script will crash the service if it is vulnerable. This vulnerability was discovered by Ron Bowes</p><p>|       while working on smb-enum-sessions.</p><p>|_          </p><p><strong>| smb-ls: Volume \\10.10.206.109\Anonymous</strong><strong></strong></p><p><strong>| SIZE   TIME                 FILENAME</strong><strong></strong></p><p><strong>| &lt;DIR&gt;  2018-04-19T17:31:20  .</strong><strong></strong></p><p><strong>| &lt;DIR&gt;  2018-04-19T17:13:06  ..</strong><strong></strong></p><p><strong></strong><strong><h1>| 173    2018-04-19T17:29:55  staff.txt</h1></strong></p><p>|_</p><p>|_smb-flood: ERROR: Script execution failed (use -d to debug)</p><p>| smb-enum-sessions: </p><p>|_  &lt;nobody&gt;</p><p>| smb-enum-domains: </p><p>|   BASIC2</p><p>|     Groups: n/a</p><p>|     Users: n/a</p><p>|     Creation time: unknown</p><p>|     Passwords: min length: 5; min age: n/a days; max age: n/a days; history: n/a passwords</p><p>|     Account lockout disabled</p><p>|   Builtin</p><p>|     Groups: n/a</p><p>|     Users: n/a</p><p>|     Creation time: unknown</p><p>|     Passwords: min length: 5; min age: n/a days; max age: n/a days; history: n/a passwords</p><p>|_    Account lockout disabled</p><p>| smb2-time: </p><p>|   date: 2024-09-13T21:13:34</p><p>|_  start_date: N/A</p><p>| smb-security-mode: </p><p>|   account_used: guest</p><p>|   authentication_level: user</p><p>|   challenge_response: supported</p><p>|_  message_signing: disabled (dangerous, but default)</p><p></p><p>Nmap done: 1 IP address (1 host up) scanned in 312.43 seconds</p><p></p><p>Le scan nmap avec le script smb nous permet de trouver un partage nommé anonymous contenant un fichier potentiellement intéressant du doux nom de staff.txt</p><p></p><p><img src="images/34-1.png" alt="images/34-1.png" /></p><p></p><p><img src="images/34-2.png" alt="images/34-2.png" /></p><p><img src="images/34-3.png" alt="images/34-3.png" /></p><p><img src="images/34-4.png" alt="images/34-4.png" /></p><p></p><p>Le fichier contient 2 noms Jan et Kay qui semble être l&#39;administrateur du système. Pour pouvoir rentrer dans le système, nous allons nous tenter d&#39;obtenir un accès via Jan.</p><p><ol><li>3. <h2>3. Web page enumeration</h2></li></ol></p><p></p><p>Try hack me nous demande un dossier caché sur le serveur web, pour le trouver nous utilisons gobuster</p><p></p><p><h2>Gobuster</h2></p><p></p><p>sudo gobuster dir -e -u http://10.10.206.109  -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt &gt;&gt; Gobuster.txt</p><p></p><p>===============================================================</p><p>Gobuster v3.6</p><p>by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)</p><p>===============================================================</p><p>[+] Url:                     <a href="http://10.10.206.109">http://10.10.206.109</a></p><p>[+] Method:                  GET</p><p>[+] Threads:                 10</p><p>[+] Wordlist:                /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</p><p>[+] Negative Status codes:   404</p><p>[+] User Agent:              gobuster/3.6</p><p>[+] Expanded:                true</p><p>[+] Timeout:                 10s</p><p>===============================================================</p><p>Starting gobuster in directory enumeration mode</p><p>===============================================================</p><p></p><p>[2K<a href="http://10.10.206.109/development">http://10.10.206.109/</a><strong><a href="http://10.10.206.109/development">development</a></strong><strong>   </strong>       (Status: 301) [Size: 320] [--&gt; <a href="http://10.10.206.109/development/]">http://10.10.206.109/development/]</a></p><p></p><p>[2K<a href="http://10.10.206.109/server-status">http://10.10.206.109/server-status</a>        (Status: 403) [Size: 301]</p><p></p><p>===============================================================</p><p>Finished</p><p>===============================================================</p><p><ol><li>4. <h2>4. Network share enumeration</h2></li></ol></p><p></p><p>On effectue une enumeration des partages afin de trouver des informations importantes, sachant que nous avons déjà 2 noms d&#39;utilisateurs, nous nous aidons de enum4linux pour confirmer</p><p></p><p>enum4linux -a 10.10.206.109 &gt;&gt; enum4linux.txt</p><p></p><p>Starting enum4linux v0.9.1 ( <a href="http://labs.portcullis.co.uk/application/enum4linux/">http://labs.portcullis.co.uk/application/enum4linux/</a> ) on Fri Sep 13 23:27:33 2024</p><p></p><p>[34m =========================================( [0m[32mTarget Information[0m[34m )=========================================</p><p></p><p>[0mTarget ........... 10.10.206.109</p><p>RID Range ........ 500-550,1000-1050</p><p>Username ......... &#39;&#39;</p><p>Password ......... &#39;&#39;</p><p>Known Usernames .. administrator, guest, krbtgt, domain admins, root, bin, none</p><p></p><p></p><p>[34m ===========================( [0m[32mEnumerating Workgroup/Domain on 10.10.206.109[0m[34m )===========================</p><p></p><p>[0m[33m</p><p>[+] [0m[32mGot domain/workgroup name: WORKGROUP</p><p></p><p>[0m</p><p>[34m ===============================( [0m[32mNbtstat Information for 10.10.206.109[0m[34m )===============================</p><p></p><p>[0mLooking up status of 10.10.206.109</p><p>	BASIC2          &lt;00&gt; -         B &lt;ACTIVE&gt;  Workstation Service</p><p>	BASIC2          &lt;03&gt; -         B &lt;ACTIVE&gt;  Messenger Service</p><p>	BASIC2          &lt;20&gt; -         B &lt;ACTIVE&gt;  File Server Service</p><p>	..__MSBROWSE__. &lt;01&gt; - &lt;GROUP&gt; B &lt;ACTIVE&gt;  Master Browser</p><p>	WORKGROUP       &lt;00&gt; - &lt;GROUP&gt; B &lt;ACTIVE&gt;  Domain/Workgroup Name</p><p>	WORKGROUP       &lt;1d&gt; -         B &lt;ACTIVE&gt;  Master Browser</p><p>	WORKGROUP       &lt;1e&gt; - &lt;GROUP&gt; B &lt;ACTIVE&gt;  Browser Service Elections</p><p></p><p>	MAC Address = 00-00-00-00-00-00</p><p></p><p>[34m ===================================( [0m[32mSession Check on 10.10.206.109[0m[34m )===================================</p><p></p><p>[0m[33m</p><p>[+] [0m[32mServer 10.10.206.109 allows sessions using username &#39;&#39;, password &#39;&#39;</p><p></p><p>[0m</p><p>[34m ================================( [0m[32mGetting domain SID for 10.10.206.109[0m[34m )================================</p><p></p><p>[0mDomain Name: WORKGROUP</p><p>Domain Sid: (NULL SID)</p><p>[33m</p><p>[+] [0m[32mCan&#39;t determine if host is part of domain or part of a workgroup</p><p></p><p>[0m</p><p>[34m ==================================( [0m[32mOS information on 10.10.206.109[0m[34m )==================================</p><p></p><p>[0m[33m</p><p>[E] [0m[31mCan&#39;t get OS info with smbclient</p><p></p><p>[0m[33m</p><p>[+] [0m[32mGot OS info for 10.10.206.109 from srvinfo: </p><p>[0m	BASIC2         Wk Sv PrQ Unx NT SNT Samba Server 4.3.11-Ubuntu</p><p>	platform_id     :	500</p><p>	os version      :	6.1</p><p>	server type     :	0x809a03</p><p></p><p></p><p>[34m =======================================( [0m[32mUsers on 10.10.206.109[0m[34m )=======================================</p><p></p><p>[0m</p><p></p><p>[34m =================================( [0m[32mShare Enumeration on 10.10.206.109[0m[34m )=================================</p><p></p><p>[0m</p><p>	Sharename       Type      Comment</p><p>	---------       ----      -------</p><p>	Anonymous       Disk      </p><p>	IPC$            IPC       IPC Service (Samba Server 4.3.11-Ubuntu)</p><p>Reconnecting with SMB1 for workgroup listing.</p><p></p><p>	Server               Comment</p><p>	---------            -------</p><p></p><p>	Workgroup            Master</p><p>	---------            -------</p><p>	WORKGROUP            BASIC2</p><p>[33m</p><p>[+] [0m[32mAttempting to map shares on 10.10.206.109</p><p></p><p>[0m//10.10.206.109/Anonymous	[35mMapping: [0mOK[35m Listing: [0mOK[35m Writing: [0mN/A</p><p>[33m</p><p>[E] [0m[31mCan&#39;t understand response:</p><p></p><p>[0mNT_STATUS_OBJECT_NAME_NOT_FOUND listing \*</p><p>//10.10.206.109/IPC$	[35mMapping: [0mN/A[35m Listing: [0mN/A[35m Writing: [0mN/A</p><p></p><p>[34m ===========================( [0m[32mPassword Policy Information for 10.10.206.109[0m[34m )===========================</p><p></p><p>[0m</p><p></p><p>[+] Attaching to 10.10.206.109 using a NULL share</p><p></p><p>[+] Trying protocol 139/SMB...</p><p></p><p>[+] Found domain(s):</p><p></p><p>	[+] BASIC2</p><p>	[+] Builtin</p><p></p><p>[+] Password Info for Domain: BASIC2</p><p></p><p>	[+] Minimum password length: 5</p><p>	[+] Password history length: None</p><p>	[+] Maximum password age: 37 days 6 hours 21 minutes </p><p>	[+] Password Complexity Flags: 000000</p><p></p><p>		[+] Domain Refuse Password Change: 0</p><p>		[+] Domain Password Store Cleartext: 0</p><p>		[+] Domain Password Lockout Admins: 0</p><p>		[+] Domain Password No Clear Change: 0</p><p>		[+] Domain Password No Anon Change: 0</p><p>		[+] Domain Password Complex: 0</p><p></p><p>	[+] Minimum password age: None</p><p>	[+] Reset Account Lockout Counter: 30 minutes </p><p>	[+] Locked Account Duration: 30 minutes </p><p>	[+] Account Lockout Threshold: None</p><p>	[+] Forced Log off Time: 37 days 6 hours 21 minutes </p><p></p><p></p><p>[33m</p><p>[+] [0m[32mRetieved partial password policy with rpcclient:</p><p></p><p></p><p>[0mPassword Complexity: Disabled</p><p>Minimum Password Length: 5</p><p></p><p></p><p>[34m ======================================( [0m[32mGroups on 10.10.206.109[0m[34m )======================================</p><p></p><p>[0m[33m</p><p>[+] [0m[32mGetting builtin groups:</p><p></p><p>[0m[33m</p><p>[+] [0m[32m Getting builtin group memberships:</p><p></p><p>[0m[33m</p><p>[+] [0m[32m Getting local groups:</p><p></p><p>[0m[33m</p><p>[+] [0m[32m Getting local group memberships:</p><p></p><p>[0m[33m</p><p>[+] [0m[32m Getting domain groups:</p><p></p><p>[0m[33m</p><p>[+] [0m[32m Getting domain group memberships:</p><p></p><p>[0m</p><p>[34m ==================( [0m[32mUsers on 10.10.206.109 via RID cycling (RIDS: 500-550,1000-1050)[0m[34m )==================</p><p></p><p>[0m[33m</p><p>[I] [0m[36mFound new SID: </p><p>[0mS-1-22-1</p><p>[33m</p><p>[I] [0m[36mFound new SID: </p><p>[0mS-1-5-32</p><p>[33m</p><p>[I] [0m[36mFound new SID: </p><p>[0mS-1-5-32</p><p>[33m</p><p>[I] [0m[36mFound new SID: </p><p>[0mS-1-5-32</p><p>[33m</p><p>[I] [0m[36mFound new SID: </p><p>[0mS-1-5-32</p><p>[33m</p><p>[+] [0m[32mEnumerating users using SID S-1-5-32 and logon username &#39;&#39;, password &#39;&#39;</p><p></p><p>[0mS-1-5-32-544 BUILTIN\Administrators (Local Group)</p><p>S-1-5-32-545 BUILTIN\Users (Local Group)</p><p>S-1-5-32-546 BUILTIN\Guests (Local Group)</p><p>S-1-5-32-547 BUILTIN\Power Users (Local Group)</p><p>S-1-5-32-548 BUILTIN\Account Operators (Local Group)</p><p>S-1-5-32-549 BUILTIN\Server Operators (Local Group)</p><p>S-1-5-32-550 BUILTIN\Print Operators (Local Group)</p><p>[33m</p><p>[+] [0m[32mEnumerating users using SID S-1-22-1 and logon username &#39;&#39;, password &#39;&#39;</p><p></p><p><strong>[0mS-1-22-1-1000 Unix User\kay (Local User)</strong><strong></strong></p><p><strong>S-1-22-1-1001 Unix User\jan (Local User)</strong></p><p>[33m</p><p>[+] [0m[32mEnumerating users using SID S-1-5-21-2853212168-2008227510-3551253869 and logon username &#39;&#39;, password &#39;&#39;</p><p></p><p>[0mS-1-5-21-2853212168-2008227510-3551253869-501 BASIC2\nobody (Local User)</p><p>S-1-5-21-2853212168-2008227510-3551253869-513 BASIC2\None (Domain Group)</p><p></p><p>[34m ===============================( [0m[32mGetting printer info for 10.10.206.109[0m[34m )===============================</p><p></p><p>[0mNo printers returned.</p><p></p><p></p><p>enum4linux complete on Fri Sep 13 23:29:56 2024</p><p></p><p></p><p><ol><li>5. <h2>5. Privilege escalation</h2></li></ol></p><p></p><p>Nous utilisons hydra et la wordlist rockyou.txt pour brute force l&#39;accès à Jan</p><p></p><p><img src="images/34-5.png" alt="images/34-5.png" /></p><p></p><p>Nous avons trouvé le mot de passe, nous pouvons alors nous connecter en utilisant le ssh.</p><p></p><p><img src="images/34-6.png" alt="images/34-6.png" /></p><p></p><p>Nous commençons à naviguer parmis les fichiers à la recherche d&#39;informations afin de gagner plus de privilèges</p><p></p><p><img src="images/34-7.png" alt="images/34-7.png" /></p><p><img src="images/34-8.png" alt="images/34-8.png" /></p><p><img src="images/34-9.png" alt="images/34-9.png" /></p><p><img src="images/34-10.png" alt="images/34-10.png" /></p><p></p><p>En accédant au dossier .ssh nous avons accès à la clé rsa (id_rsa) qui va nous permettre de nous connecter en tant que Kay</p><p></p><p><img src="images/34-11.png" alt="images/34-11.png" /></p><p></p><p>Nous créons un fichier texte où nous collons la clé, afin de récupérer le hash avec john the ripper</p><p></p><p><img src="images/34-12.png" alt="images/34-12.png" /></p><p></p><p>Grâce à ssh2john et john nous obtenons le mot de passe de Kay et nous permettre de nous connecter en tant que Kay à partir de la session ssh de Jan</p><p></p><p><img src="images/34-13.png" alt="images/34-13.png" /></p><p></p><p>Ensuite nous affichons le contenu du fichier pass.bak</p><p></p><p><img src="images/34-14.png" alt="images/34-14.png" /></p><p></p><p>Bingo nous obtenons le mot de passe admin (dernière question du formulaire sur tryhackme)</p><p></p><p>Maintenant que nous avons ce mot de passe il est temps de monter en privilège, en entrant sudo su et accéder au dossier root de la racine du système</p><p></p><p><img src="images/34-15.png" alt="images/34-15.png" /></p><p></p><p>Affichons désormais le flag</p><p></p><p><img src="images/34-16.png" alt="images/34-16.png" /></p><p></p><p>Et voilà ce CTF est terminé</p><p></p><p></p><p></p></div>
</body>
</html>
